name: ğŸ”„ Manual Repository Update

on:
  workflow_dispatch: # æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ

jobs:
  update-repo:
    runs-on: ubuntu-latest

    steps:
    # æ£€å‡ºå½“å‰ä»“åº“ä»£ç 
    - name: ğŸ”„ Checkout My Repository
      uses: actions/checkout@v3

    # æ·»åŠ ç›®æ ‡ä»“åº“ä¸ºè¿œç¨‹ä»“åº“
    - name: ğŸ”„ Add Target Repository as Remote
      run: |
        git remote add upstream https://github.com/samqin123/MoonTV.git
        git fetch upstream
        git merge upstream/main -m "ğŸ”„ Manual merge updates from upstream"

    # æ¨é€æ›´æ–°åˆ°å½“å‰ä»“åº“
    - name: ğŸ”„ Push Updates to My Repository
      env:
        TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: |
        git push origin main
