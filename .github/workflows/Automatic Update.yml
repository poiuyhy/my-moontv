name: æ¯æ—¥æ›´æ–°

on:
  schedule:
    - cron: "0 10 * * *" # æ¯å¤©10ç‚¹ï¼ˆUTCæ—¶é—´ï¼‰è§¦å‘
  workflow_dispatch: # æ‰‹åŠ¨è§¦å‘é€‰é¡¹

jobs:
  update-repo:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸš€ æ£€å‡ºå½“å‰ä»“åº“
        uses: actions/checkout@v3

      - name: ğŸ”„ æ·»åŠ åŸå§‹ä»“åº“ä¸ºè¿œç¨‹
        run: git remote add upstream https://github.com/samqin123/MoonTV.git

      - name: ğŸ”„ æ‹‰å–åŸå§‹ä»“åº“çš„æ›´æ–°
        run: git fetch upstream

      - name: ğŸ”„ åˆå¹¶åŸå§‹ä»“åº“çš„æ›´æ”¹
        run: git merge upstream/main --allow-unrelated-histories -m "ğŸ”„ æ¯æ—¥è‡ªåŠ¨åŒæ­¥æ›´æ–°"

      - name: ğŸš€ æ¨é€æ›´æ”¹åˆ°å¤åˆ»ä»“åº“
        run: git push origin main
